/**
 * テスト用フィクスチャ（モックデータ）
 */

import type { UserRow, MapRow, UserSpotRow, MasterSpotRow } from '@/shared/types';

// ===============================
// Users
// ===============================

export const mockUsers: UserRow[] = [
  {
    id: 'user-1',
    username: 'testuser1',
    display_name: 'テストユーザー1',
    avatar_url: 'https://example.com/avatar1.png',
    avatar_crop: null,
    bio: 'テストユーザー1の自己紹介',
    email: 'test1@example.com',
    age_group: null,
    country: null,
    gender: null,
    prefecture: null,
    status: 'active',
    is_premium: false,
    premium_started_at: null,
    premium_expires_at: null,
    push_token: null,
    push_token_updated_at: null,
    suspended_at: null,
    suspended_reason: null,
    deletion_requested_at: null,
    created_at: '2024-01-01T00:00:00Z',
    updated_at: '2024-01-01T00:00:00Z',
  },
  {
    id: 'user-2',
    username: 'testuser2',
    display_name: 'テストユーザー2',
    avatar_url: 'https://example.com/avatar2.png',
    avatar_crop: null,
    bio: 'テストユーザー2の自己紹介',
    email: 'test2@example.com',
    age_group: null,
    country: null,
    gender: null,
    prefecture: null,
    status: 'active',
    is_premium: true,
    premium_started_at: '2024-01-01T00:00:00Z',
    premium_expires_at: '2025-01-01T00:00:00Z',
    push_token: null,
    push_token_updated_at: null,
    suspended_at: null,
    suspended_reason: null,
    deletion_requested_at: null,
    created_at: '2024-01-02T00:00:00Z',
    updated_at: '2024-01-02T00:00:00Z',
  },
];

// ===============================
// Maps
// ===============================

export const mockMaps: MapRow[] = [
  {
    id: 'map-1',
    user_id: 'user-1',
    name: '東京のおすすめカフェ',
    description: '東京都内のおすすめカフェをまとめました',
    thumbnail_url: 'https://example.com/cover1.png',
    thumbnail_crop: null,
    is_public: true,
    is_official: false,
    category_id: 'category-1',
    language: 'ja',
    spots_count: 5,
    likes_count: 10,
    bookmarks_count: 3,
    comments_count: 2,
    article_intro: null,
    article_outro: null,
    show_label_chips: true,
    created_at: '2024-01-01T00:00:00Z',
    updated_at: '2024-01-01T00:00:00Z',
  },
  {
    id: 'map-2',
    user_id: 'user-1',
    name: '京都の神社巡り',
    description: '京都の有名な神社をまとめました',
    thumbnail_url: 'https://example.com/cover2.png',
    thumbnail_crop: null,
    is_public: true,
    is_official: false,
    category_id: 'category-2',
    language: 'ja',
    spots_count: 8,
    likes_count: 25,
    bookmarks_count: 10,
    comments_count: 5,
    article_intro: null,
    article_outro: null,
    show_label_chips: true,
    created_at: '2024-01-02T00:00:00Z',
    updated_at: '2024-01-02T00:00:00Z',
  },
  {
    id: 'map-3',
    user_id: 'user-2',
    name: '大阪グルメ',
    description: '大阪の美味しいお店',
    thumbnail_url: null,
    thumbnail_crop: null,
    is_public: false,
    is_official: false,
    category_id: 'category-1',
    language: 'ja',
    spots_count: 3,
    likes_count: 0,
    bookmarks_count: 0,
    comments_count: 0,
    article_intro: null,
    article_outro: null,
    show_label_chips: false,
    created_at: '2024-01-03T00:00:00Z',
    updated_at: '2024-01-03T00:00:00Z',
  },
];

// ===============================
// Master Spots
// ===============================

export const mockMasterSpots: MasterSpotRow[] = [
  {
    id: 'master-spot-1',
    name: 'スターバックス 渋谷店',
    latitude: 35.6595,
    longitude: 139.7004,
    machi_id: null,
    google_place_id: 'ChIJ1234567890',
    google_formatted_address: '東京都渋谷区渋谷1-2-3',
    google_short_address: '渋谷1-2-3',
    google_types: ['cafe', 'food'],
    google_phone_number: '03-1234-5678',
    google_website_uri: 'https://starbucks.co.jp',
    google_rating: 4.2,
    google_user_rating_count: 150,
    favorites_count: 10,
    created_at: '2024-01-01T00:00:00Z',
    updated_at: '2024-01-01T00:00:00Z',
  },
  {
    id: 'master-spot-2',
    name: '伏見稲荷大社',
    latitude: 34.9671,
    longitude: 135.7727,
    machi_id: null,
    google_place_id: 'ChIJ9876543210',
    google_formatted_address: '京都府京都市伏見区深草藪之内町68',
    google_short_address: '伏見区深草',
    google_types: ['place_of_worship', 'tourist_attraction'],
    google_phone_number: '075-641-7331',
    google_website_uri: 'https://inari.jp',
    google_rating: 4.8,
    google_user_rating_count: 5000,
    favorites_count: 50,
    created_at: '2024-01-02T00:00:00Z',
    updated_at: '2024-01-02T00:00:00Z',
  },
];

// ===============================
// User Spots
// ===============================

export const mockSpots: UserSpotRow[] = [
  {
    id: 'spot-1',
    user_id: 'user-1',
    map_id: 'map-1',
    master_spot_id: 'master-spot-1',
    machi_id: null,
    name: null,
    description: 'スタバ渋谷',
    spot_color: 'blue',
    label_id: null,
    language: 'ja',
    images_count: 2,
    likes_count: 5,
    bookmarks_count: 1,
    comments_count: 1,
    order_index: 0,
    latitude: 35.6595,
    longitude: 139.7004,
    prefecture_id: null,
    city_id: null,
    google_formatted_address: '東京都渋谷区渋谷1-2-3',
    google_short_address: '渋谷1-2-3',
    article_content: null,
    is_public: true,
    thumbnail_image_id: null,
    thumbnail_crop: null,
    created_at: '2024-01-01T00:00:00Z',
    updated_at: '2024-01-01T00:00:00Z',
  },
  {
    id: 'spot-2',
    user_id: 'user-1',
    map_id: 'map-2',
    master_spot_id: 'master-spot-2',
    machi_id: null,
    name: null,
    description: '伏見稲荷',
    spot_color: 'red',
    label_id: null,
    language: 'ja',
    images_count: 5,
    likes_count: 15,
    bookmarks_count: 8,
    comments_count: 3,
    order_index: 0,
    latitude: 34.9671,
    longitude: 135.7727,
    prefecture_id: null,
    city_id: null,
    google_formatted_address: '京都府京都市伏見区深草藪之内町68',
    google_short_address: '伏見区深草',
    article_content: null,
    is_public: true,
    thumbnail_image_id: null,
    thumbnail_crop: null,
    created_at: '2024-01-02T00:00:00Z',
    updated_at: '2024-01-02T00:00:00Z',
  },
];

// ===============================
// ファクトリー関数
// ===============================

/**
 * カスタムユーザーを作成
 */
export function createMockUser(overrides: Partial<UserRow> = {}): UserRow {
  return {
    id: `user-${Date.now()}`,
    username: 'mockuser',
    display_name: 'モックユーザー',
    avatar_url: null,
    avatar_crop: null,
    bio: null,
    email: 'mock@example.com',
    age_group: null,
    country: null,
    gender: null,
    prefecture: null,
    status: 'active',
    is_premium: false,
    premium_started_at: null,
    premium_expires_at: null,
    push_token: null,
    push_token_updated_at: null,
    suspended_at: null,
    suspended_reason: null,
    deletion_requested_at: null,
    created_at: new Date().toISOString(),
    updated_at: new Date().toISOString(),
    ...overrides,
  };
}

/**
 * カスタムマップを作成
 */
export function createMockMap(overrides: Partial<MapRow> = {}): MapRow {
  return {
    id: `map-${Date.now()}`,
    user_id: 'user-1',
    name: 'モックマップ',
    description: null,
    thumbnail_url: null,
    thumbnail_crop: null,
    is_public: true,
    is_official: false,
    category_id: null,
    language: 'ja',
    spots_count: 0,
    likes_count: 0,
    bookmarks_count: 0,
    comments_count: 0,
    article_intro: null,
    article_outro: null,
    show_label_chips: true,
    created_at: new Date().toISOString(),
    updated_at: new Date().toISOString(),
    ...overrides,
  };
}

/**
 * カスタムスポットを作成
 */
export function createMockSpot(overrides: Partial<UserSpotRow> = {}): UserSpotRow {
  return {
    id: `spot-${Date.now()}`,
    user_id: 'user-1',
    map_id: 'map-1',
    master_spot_id: null,
    machi_id: null,
    name: null,
    description: 'モックスポット',
    spot_color: null,
    label_id: null,
    language: 'ja',
    images_count: 0,
    likes_count: 0,
    bookmarks_count: 0,
    comments_count: 0,
    order_index: 0,
    latitude: 35.6812,
    longitude: 139.7671,
    prefecture_id: null,
    city_id: null,
    google_formatted_address: null,
    google_short_address: null,
    article_content: null,
    is_public: true,
    thumbnail_image_id: null,
    thumbnail_crop: null,
    created_at: new Date().toISOString(),
    updated_at: new Date().toISOString(),
    ...overrides,
  };
}

// ===============================
// Mixed Feed RPC レスポンス
// ===============================

/**
 * RPC get_mixed_feed のモックレスポンス
 * item_type で map / spot / ad を判別
 */
export const mockMixedFeedResponse = [
  {
    item_type: 'map',
    item_id: 'map-1',
    feed_position: 0,
    created_at: '2024-01-01T00:00:00Z',
    spot_display_type: null,
    // マップ関連フィールド
    map_id: 'map-1',
    map_name: '東京のおすすめカフェ',
    map_description: '東京都内のおすすめカフェをまとめました',
    map_thumbnail_url: 'https://example.com/cover1.png',
    map_is_public: true,
    map_spots_count: 5,
    map_likes_count: 10,
    map_bookmarks_count: 3,
    map_comments_count: 2,
    map_category_id: 'category-1',
    map_language: 'ja',
    map_user_id: 'user-1',
    map_user_username: 'testuser1',
    map_user_display_name: 'テストユーザー1',
    map_user_avatar_url: 'https://example.com/avatar1.png',
    map_tags: [],
    map_is_liked: false,
    map_is_bookmarked: false,
    // スポット関連フィールド（nullで統一）
    spot_id: null,
    spot_user_id: null,
    spot_map_id: null,
    spot_master_spot_id: null,
    spot_machi_id: null,
    spot_description: null,
    spot_spot_color: null,
    spot_label_id: null,
    spot_name: null,
    spot_images_count: null,
    spot_likes_count: null,
    spot_bookmarks_count: null,
    spot_comments_count: null,
    spot_order_index: null,
    spot_latitude: null,
    spot_longitude: null,
    spot_google_formatted_address: null,
    spot_google_short_address: null,
    spot_master_spot_name: null,
    spot_master_spot_latitude: null,
    spot_master_spot_longitude: null,
    spot_master_spot_google_place_id: null,
    spot_master_spot_google_formatted_address: null,
    spot_master_spot_google_short_address: null,
    spot_master_spot_google_types: null,
    spot_user_username: null,
    spot_user_display_name: null,
    spot_user_avatar_url: null,
    spot_map_name: null,
    spot_is_public: null,
    spot_article_content: null,
    spot_image_urls: null,
    spot_tags: null,
    spot_is_liked: null,
    spot_is_bookmarked: null,
    spot_video_url: null,
    // 広告フィールド
    ad_slot: null,
  },
  {
    item_type: 'spot',
    item_id: 'spot-1',
    feed_position: 1,
    created_at: '2024-01-01T00:00:00Z',
    spot_display_type: 'card',
    // マップ関連フィールド（nullで統一）
    map_id: null,
    map_name: null,
    map_description: null,
    map_thumbnail_url: null,
    map_is_public: null,
    map_spots_count: null,
    map_likes_count: null,
    map_bookmarks_count: null,
    map_comments_count: null,
    map_category_id: null,
    map_language: null,
    map_user_id: null,
    map_user_username: null,
    map_user_display_name: null,
    map_user_avatar_url: null,
    map_tags: null,
    map_is_liked: null,
    map_is_bookmarked: null,
    // スポット関連フィールド
    spot_id: 'spot-1',
    spot_user_id: 'user-1',
    spot_map_id: 'map-1',
    spot_master_spot_id: 'master-spot-1',
    spot_machi_id: null,
    spot_description: 'スタバ渋谷',
    spot_spot_color: 'blue',
    spot_label_id: null,
    spot_name: null,
    spot_images_count: 2,
    spot_likes_count: 5,
    spot_bookmarks_count: 1,
    spot_comments_count: 1,
    spot_order_index: 0,
    spot_latitude: 35.6595,
    spot_longitude: 139.7004,
    spot_google_formatted_address: '東京都渋谷区渋谷1-2-3',
    spot_google_short_address: '渋谷1-2-3',
    spot_master_spot_name: 'スターバックス 渋谷店',
    spot_master_spot_latitude: 35.6595,
    spot_master_spot_longitude: 139.7004,
    spot_master_spot_google_place_id: 'ChIJ1234567890',
    spot_master_spot_google_formatted_address: '東京都渋谷区渋谷1-2-3',
    spot_master_spot_google_short_address: '渋谷1-2-3',
    spot_master_spot_google_types: ['cafe', 'food'],
    spot_user_username: 'testuser1',
    spot_user_display_name: 'テストユーザー1',
    spot_user_avatar_url: 'https://example.com/avatar1.png',
    spot_map_name: '東京のおすすめカフェ',
    spot_is_public: true,
    spot_article_content: null,
    spot_image_urls: ['https://example.com/img1.png'],
    spot_tags: [],
    spot_is_liked: false,
    spot_is_bookmarked: false,
    spot_video_url: null,
    // 広告フィールド
    ad_slot: null,
  },
];
