# タブナビゲーションテスト
# 各タブに正常に遷移できることを確認

appId: com.tyatsushi.machikore
---

- launchApp:
    clearState: true

# オンボーディング画面が表示された場合は通過
- runFlow: _common/pass_onboarding.yaml

# ホーム画面の確認
- assertVisible:
    text: "おすすめ"
- assertVisible:
    text: "フォロー中"

# 発見タブ（検索アイコン）をタップ
- tapOn:
    point: "25%,95%"

- extendedWaitUntil:
    visible: ".*"
    timeout: 5000

# 発見画面の確認: testID
- assertVisible:
    id: "discover-screen"
    optional: true

# マイページタブ（人物アイコン）をタップ - 右端のタブ
- tapOn:
    point: "90%,95%"

- extendedWaitUntil:
    visible: ".*"
    timeout: 5000

# マイページ画面の確認（匿名ユーザー）: ウェルカムテキストが見える
- assertVisible:
    text: "街コレへようこそ"

# ホームタブに戻る
- tapOn:
    point: "10%,95%"

- extendedWaitUntil:
    visible: "おすすめ"
    timeout: 5000

# ホーム画面に戻ったことを確認
- assertVisible:
    text: "おすすめ"
